<!DOCTYPE html>							
<html lang="es">							
<head>							
<meta charset="UTF-8">							
<meta name="viewport" content="width=device-width, initial-scale=1.0">							
<title>Formulario de Pedidos</title>							
<style>							
body {							
font-family: Arial, sans-serif;							
max-width: 500px;							
margin: 0 auto;							
padding: 20px;							
}							
form {							
background: #f9f9f9;							
padding: 20px;							
border-radius: 8px;							
box-shadow: 0 2px 4px rgba(0,0,0,0.1);							
}							
input, textarea {							
width: 100%;							
padding: 8px;							
margin-bottom: 15px;							
border: 1px solid #ddd;							
border-radius: 4px;							
}							
button {							
background: #4CAF50;							
color: white;							
padding: 10px 15px;							
border: none;							
border-radius: 4px;							
cursor: pointer;							
}							
#mensaje {							
margin-top: 15px;							
padding: 10px;							
border-radius: 4px;							
display: none;							
}							
.exito { background: #dff0d8; color: #3c763d; }							
.error { background: #f2dede; color: #a94442; }							
</style>							
</head>							
<body>							
<h1>Formulario de Pedidos</h1>							
<form id="pedidoForm">							
<label for="nombre">Nombre:</label>							
<input type="text" id="nombre" required>							
							
<label for="pedido">Pedido:</label>							
<textarea id="pedido" rows="4" required></textarea>							
							
<button type="submit">Enviar Pedido</button>							
</form>							
							
<div id="mensaje"></div>							
							
<script>							
document.getElementById('pedidoForm').addEventListener('submit', async (e) => {							
e.preventDefault();							
const mensajeDiv = document.getElementById('mensaje');							
mensajeDiv.style.display = 'none';							
							
try {							
const response = await fetch(' https://vwph9zcua.localto.net/pedido', {							
method: 'POST',							
headers: {							
'Content-Type': 'application/json'							
},							
body: JSON.stringify({							
nombre: document.getElementById('nombre').value,							
pedido: document.getElementById('pedido').value							
}),							
redirect: 'manual' // ðŸ‘ˆ Evita seguir redirecciones automÃ¡ticamente							
});							
							
// Si LocalTunnel intenta redirigir (cÃ³digo 302)							
if (response.type === 'opaqueredirect') {							
window.open('https://TU_SUBDOMINIO.loca.lt/pedido', '_blank');							
mostrarMensaje('âœ” Verifica la pestaÃ±a nueva para completar el envÃ­o', 'exito');							
}							
// Si la respuesta es exitosa (200)							
else if (response.ok) {							
const data = await response.json();							
mostrarMensaje('âœ” Pedido enviado: ' + data.status, 'exito');							
document.getElementById('pedidoForm').reset();							
}							
// Otros errores							
else {							
throw new Error(`Error HTTP: ${response.status}`);							
}							
} catch (error) {							
console.error('Error:', error);							
mostrarMensaje('âœ– Error al enviar: ' + error.message, 'error');							
}							
});							
							
function mostrarMensaje(texto, tipo) {							
const mensajeDiv = document.getElementById('mensaje');							
mensajeDiv.textContent = texto;							
mensajeDiv.className = tipo;							
mensajeDiv.style.display = 'block';							
}							
</script>							
</body>							
</html>							
							
							
							
							
							
							
							
							
						
						
						
						
						
						
						
						
						
						
						
						
						
						
