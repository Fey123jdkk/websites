<!DOCTYPE html>								
<html lang="es">								
<head>								
<meta charset="UTF-8">								
<meta name="viewport" content="width=device-width, initial-scale=1.0">								
<title>Formulario de Pedidos Funcional</title>								
<style>								
body {								
font-family: 'Arial', sans-serif;								
line-height: 1.6;								
max-width: 600px;								
margin: 0 auto;								
padding: 20px;								
background: #f9f9f9;								
color: #333;								
}								
.container {								
background: white;								
padding: 25px;								
border-radius: 10px;								
box-shadow: 0 2px 10px rgba(0,0,0,0.1);								
}								
h2 {								
color: #2c3e50;								
text-align: center;								
margin-bottom: 20px;								
}								
.form-group {								
margin-bottom: 20px;								
}								
label {								
display: block;								
margin-bottom: 5px;								
font-weight: bold;								
}								
input[type="text"],								
textarea {								
width: 100%;								
padding: 12px;								
border: 1px solid #ddd;								
border-radius: 5px;								
font-size: 16px;								
transition: border 0.3s;								
}								
input[type="text"]:focus,								
textarea:focus {								
border-color: #4285F4;								
outline: none;								
box-shadow: 0 0 5px rgba(66, 133, 244, 0.3);								
}								
textarea {								
min-height: 120px;								
resize: vertical;								
}								
button {								
background: #4285F4;								
color: white;								
border: none;								
padding: 14px 20px;								
border-radius: 5px;								
cursor: pointer;								
font-size: 16px;								
width: 100%;								
transition: background 0.3s;								
}								
button:hover {								
background: #3367d6;								
}								
.loading {								
display: none;								
text-align: center;								
margin: 15px 0;								
}								
.spinner {								
border: 4px solid rgba(0,0,0,0.1);								
border-radius: 50%;								
border-top: 4px solid #4285F4;								
width: 30px;								
height: 30px;								
animation: spin 1s linear infinite;								
margin: 0 auto;								
}								
@keyframes spin {								
0% { transform: rotate(0deg); }								
100% { transform: rotate(360deg); }								
}								
.error-message {								
color: #d32f2f;								
margin-top: 10px;								
font-size: 14px;								
display: none;								
}								
.success-message {								
color: #388e3c;								
margin-top: 10px;								
font-size: 16px;								
text-align: center;								
display: none;								
}								
</style>								
</head>								
<body>								
<div class="container">								
<h2>Formulario de Pedidos</h2>								
								
<form id="pedido-form">								
<div class="form-group">								
<label for="nombre">Nombre:</label>								
<input type="text" id="nombre" name="nombre" required>								
</div>								
								
<div class="form-group">								
<label for="pedido">Detalles del pedido:</label>								
<textarea id="pedido" name="pedido" required></textarea>								
</div>								
								
<button type="submit" id="submit-btn">Enviar Pedido</button>								
								
<div class="loading" id="loading">								
<div class="spinner"></div>								
<p>Enviando pedido...</p>								
</div>								
								
<div class="error-message" id="error-message"></div>								
<div class="success-message" id="success-message"></div>								
</form>								
</div>								
								
<script>								
document.addEventListener('DOMContentLoaded', function() {								
const form = document.getElementById('pedido-form');								
const submitBtn = document.getElementById('submit-btn');								
const loading = document.getElementById('loading');								
const errorMsg = document.getElementById('error-message');								
const successMsg = document.getElementById('success-message');								
								
// ðŸ”¥ ConfiguraciÃ³n Supabase - REEMPLAZA CON TUS DATOS								
const SUPABASE_URL = 'https://xrfhousgtbylnxfzootc.supabase.co';								
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhyZmhvdXNndGJ5bG54Znpvb3RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0MzQ3MzAsImV4cCI6MjA3MDAxMDczMH0.x-Kv1EfnlEHLz7cJXkqfSqdCauBxTmW_eHTcDDgvs-0';								
								
form.addEventListener('submit', async function(e) {								
e.preventDefault();								
								
// Resetear mensajes								
errorMsg.style.display = 'none';								
successMsg.style.display = 'none';								
								
// ValidaciÃ³n bÃ¡sica								
if (!form.nombre.value.trim() || !form.pedido.value.trim()) {								
showError('Por favor completa todos los campos');								
return;								
}								
								
// Mostrar carga								
submitBtn.disabled = true;								
loading.style.display = 'block';								
								
try {								
const data = {								
nombre: form.nombre.value.trim(),								
pedido: form.pedido.value.trim(),								
fecha: new Date().toISOString()								
};								
								
console.log('Enviando datos:', data);								
								
const response = await fetch(`${SUPABASE_URL}/rest/v1/pedidos`, {								
method: 'POST',								
headers: {								
Content-Type': 'application/json',								
apikey': SUPABASE_KEY,								
Authorization': `Bearer ${SUPABASE_KEY}`								
},								
body: JSON.stringify(data)								
});								
								
const result = await response.json();								
console.log('Respuesta de Supabase:', response.status, result);								
								
if (!response.ok) {								
throw new Error(result.message || `Error ${response.status}`);								
}								
								
// Ã‰xito								
showSuccess('Â¡Pedido enviado correctamente!');								
form.reset();								
								
} catch (error) {								
console.error('Error al enviar:', error);								
showError(`Error: ${error.message || 'No se pudo enviar el pedido'}`);								
								
} finally {								
loading.style.display = 'none';								
submitBtn.disabled = false;								
}								
});								
								
function showError(message) {								
errorMsg.textContent = message;								
errorMsg.style.display = 'block';								
}								
								
function showSuccess(message) {								
successMsg.textContent = message;								
successMsg.style.display = 'block';								
setTimeout(() => {								
successMsg.style.display = 'none';								
}, 5000);								
}								
});								
</script>								
</body>								
</html>									
						
						
						
						
						
						
						
						
						
